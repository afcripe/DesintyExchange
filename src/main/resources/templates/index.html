<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      layout:decorate="~{layouts/defaultLayout}">

<div class="container-fluid" layout:fragment="content">

  <div sec:authorize="isAuthenticated()">

    <div class="row">

      <div th:if="${wikiPost}" th:utext="${wikiPost.body}"></div>
      <div th:unless="${wikiPost}" class="col">
        <div th:replace="~{components/home :: pageFragment}">Welcome</div>
      </div>

    </div>

  </div>

  <div sec:authorize="isAnonymous()">

    <!--    <iframe id="landingVideo" src="https://www.youtube.com/embed/hoKc9k0sbG4?controls=0&autoplay=1&mute=1"></iframe>-->
        <iframe id="landingVideo"></iframe>

    <div id="loginCard" class="login">
      <div th:replace="~{components/cardLogin :: cardFragment}">Login</div>
    </div>

  </div>

    <script>
        const logiCd = document.getElementById('loginCard');
        function showLogin() {
            debugger
            if (logiCd.classList.contains('showLogin')) {
                logiCd.classList.remove('showLogin');
            } else {
                logiCd.classList.add('showLogin');
            }
        }

        if (window.location.pathname === "/login") {
            logiCd.classList.add('showLogin');
        }
    </script>

</div>

<!--
  <div class="card-section" sec:authorize="isAuthenticated()">
    <h2>Welcome</h2>
    <div th:if="${#lists.contains(userRoles,'ADMIN_WRITE') or #lists.contains(userRoles,'VOLUNTEER_READ')}">
      <div>This is only for ADMIN_WRITE or VOLUNTEER_READ</div>
    </div>
    <div sec:authorize="hasRole('USER')">Text visible to user.</div>
    <div sec:authorize="hasRole('ADMIN_WRITE')">Text visible to admin.</div>
    <div sec:authorize="isAuthenticated()">Text visible only to authenticated users.</div>
    Authenticated username:
    <div sec:authentication="name"></div>
    Authenticated user's firstName:
    <div sec:authentication="principal.firstName"></div>
    Authenticated user's lastName:
    <div sec:authentication="principal.lastName"></div>
    Authenticated user's email:
    <div sec:authentication="principal.lastName"></div>
    Authenticated user roles:
    <div sec:authentication="principal.authorities"></div>
  </div>
-->


</html>